language: minimal
services: docker
env:
  matrix:
  - DOCKER_COMPOSE_VERSION=1.23.2
  global:
  - secure: oiZf6N211D8ml8C29IEQpRSSXRmEIa4hIA7kxSo5A8LNfgJmLeCAaobkCZ7Ao9G/219yLORJEc1WpZbk/gD/Hb/FYTSQIzwGzZSx18UcTp4unki6BVWnZo4LV2oFRDciOlj3ZzAjOalLlq+73+vKfu8Xdr4tlS7xSm7VoRL9U9HvdZy9/oakuhyRDkRndHAQVsdQyIQIY6ALZh4sZCoujEFBKkVUBPUbUcD2R4jOGigL+h3Wd/vZtxQNEavRWexHkJFW3A5BzbMFGmwx0Z3DsfWscossiTtuP8Kqa4WpqRWfzzPz74ia6qVZM9YcUeOdbOpaM6vel+w/ltwM/ZZ1FV9Dq4Mk94QAEwHxNUYo9Mk2Ch27j4+2os+2Z9ipYt/Z5+r6djdgNiBMz2rQ+UQnZUpLzJjQZOjCMyLv1GO1NnDZwBvrwtKRnn1eU3FTs1Y7w69kL1xBaQrLLhFZEa4o2BGq1XxChIeFfqYMSnD1U50Kganu3wZWw4CcqLF9CBy6XH1066TVkzFpedYe9NG9+SyMzi5alMub7oHWWUOhMFOh9ACgiEnNncCXKorc/UKnv69R0yS4+eay3+iD8ct0sZwoWPxXMlgkgPzZdjFjDW2dv6DlaCxraR8PbRH14BuagezJmOu344/X0WudvFf3eN0MLEczvP778TwdeZsSBPw=
  - secure: ktLaTytxmWI9EQOPd6SEkMoQO81euBytIqbxrP2cBH9X87SoPZMGxL23vE+glK/UloxizJjbWfPpEAXB5+xMtU6nbUdcYIeRCCEHQWmJPowK/scjK7HIQ+yzYUrXJjEnO6MVNVFDmFMPU7IHN/UbO7UppkY06urVM9UsAMd7CVc8AOn5SN58YX2Jr9ANB2Gakf1GLcYpjThKtADoXpcgFv/ixPiaLQFSehEGCMwLPEEwFBs3ChJzpTN9hcndAJqjsp0i8q/o00+3vMyCONzp7b1T2bIJAsbE4D1W2IVh27WNLOJBgE/KtKC1yXjZbuAC7MWOEW5sKaxK8hDna0AMHkGVLbB9JQT4bW+nVhRRioNQhcxP+CijIab7iWceVr0ZjpQ7NKZJm+xqNRdxtPZARn6GnS8Sre6HKnhFDf+KsuvVzgju/rwFSrOQdzRwSeE6nBv3Hz+6SIeqJl2j13Di/2stNMUsr47ZoKB3OapqdeOFfhvqD//jgOyzYVBwPd1LSe3V4u+KKKjE8xM/2u10/CyN1MAnSZ6YJlULPu/VQDFJZxD/KLvw28cH6f1oV/POzNoJuurykT9tGvsmBB6AlEH404VoC4NhvhZ2FUuy2VsqP3jxFvigNcZXz2CoOhHlGQE8+aU2Yi7LG2GOxQ5NXbLPb5BrIlIU3rfVy7rQDDs=
  - secure: gkmXwUPNwNztqK02EFwnxXD1OL8cAQG7DCVQI8ontsmO7f7zVlMxX5HhFAoBVgzPpuGvebFJO5DzufVhwoB95rp8FLsIhC1rO0/Y4+zVOYFV5IHUmj4FqjlnpxBL7W/n50VSQqO8v2g3Yqa2Iuv0ICj6jLAzWZS90IlK3vGXX8OTmLYRRnL6Z/rxt37QpalVQkRiSg/JD7Sxw/ri3agBd356A8x4AWFX3kfh7IFzJbYgWrjQWaUiFOIRoMtvM34pLmBIpzCSsDwO0T2lcs4f5diKG6839jLUDNnuZ5wMoeY+aIFyTpNj+U63veT40ocdY0oBWuYWhuO6ehXoMppBQS6zD1a+bFgKvzqy9Fy8pvqr334WsGiEynUWNOg++mWipqEtyqxusJa3kBnmH0V4YK0ssbYxvh4pQe8BxiuUwTX7FT/NyYpwo55IIQ/dAV8qSrlmLx/YgE8zZnFYcORIYo3CRjCNGmQSbGOfJEvRyxFa2ts6CuF29Z7RCLJn/4cyVgzOmZM6rekxOER/CB39hu/plWw4gUKc7XIbQx0e6zfEAebSXFh96BA26wSDa+ZXGx5FICYyWCyL8MHq6nIRN9trPycbWZLaOyskIZdG9B7L25ryRlUi6G0Jsrkp4xhLEJMz6qRFffKnjCn8yXrRbC6S2p2RaNF5ciMbUWTKMH0=
before_install:
- docker -v && docker-compose -v
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl
- chmod +x ./kubectl
- sudo mv ./kubectl /usr/local/bin/kubectl
- echo "$DOCKER_PASS" | docker login --username "$DOCKER_USER" --password-stdin
install:
- docker-compose -f course-03/deployment/docker-compose-build.yaml build --parallel
after_success:
- docker-compose -f course-03/deployment/docker-compose-build.yaml push
